appId: ru.karofilm.app

settings:
  screenshot-on-failure: true   # Скриншоты при падении шага

---
# - assertVisible: "Подарочные карты"
- assertVisible: "Репертуар"
- assertVisible: "Профиль"
- tapOn: "Вт"
- tapOn:
    point: "73%,83%"
- extendedWaitUntil:
    visible: "Смотреть в кино"
    timeout: 50000 
- scrollUntilVisible:
    centerElement: true
    element:
      text: "КАРО 10 София"
- runFlow:
    when:
      visible: "10:20"
    commands:
        - tapOn: "10:20"
- runFlow:
    when:
      visible: "14:30"
    commands:
        - tapOn: "14:30"
- assertVisible: "Выберите место"
- runFlow:
    when:
      visible: 'Перемещайтесь по схеме зала, двигая двумя пальцами по экрану. Для выбора места схему можно масштабировать'
    commands:
        - tapOn: 
            point: "50%,50%"
- tapOn:
    point: "53%,48%"
- runFlow:
    when:
      notVisible: "Выберите тип билета"
    commands:
        - tapOn: 
            point: "67%,48%"
- runFlow:
    when:
      notVisible: "Выберите тип билета"
    commands:
        - tapOn:
            point: "77%,48%"
- assertVisible: "Выберите тип билета"
- runFlow:
    when:
      visible: "Пенсионер"
    commands:
        - tapOn: "Пенсионер"
- runFlow:
    when:
      visible: "Учащиеся"
    commands:
        - tapOn: "Учащиеся"
- tapOn: "1 билет"
- runFlow:
    when:
      visible: "Пропустить"
    commands:
        - tapOn: "Пропустить"
# - assertVisible: "Промокод"
- assertVisible: "Данные для получения заказа"
- tapOn:
    point: "50%,16%"
# - tapOn:
#     point: "8%,62%"
- tapOn:
    point: "8%,59%"
# - tapOn:
#     point: "8%,67%"
- tapOn:
    point: "8%,65%"
# - tapOn:
#     point: "8%,74%"
- tapOn:
    point: "8%,71%"
- tapOn:
    point: "50%,88%"
- tapOn: "Другой способ оплаты"
- tapOn: "СБП"
- extendedWaitUntil:
    visible: "Выберите способ оплаты"
    timeout: 90000 
- tapOn: "Система быстрых платежей"
- tapOn: "АЛЬФА-БАНК"
  id: ru.alfabank.mobile.android:id/key_pad_button_element_button_symbol_view
  index: 1
- tapOn:
    id: ru.alfabank.mobile.android:id/key_pad_button_element_button_symbol_view
    index: 1
- tapOn:
    id: ru.alfabank.mobile.android:id/key_pad_button_element_button_symbol_view
    index: 5
- tapOn:
    id: ru.alfabank.mobile.android:id/key_pad_button_element_button_symbol_view
    index: 9
- tapOn:
    id: ru.alfabank.mobile.android:id/key_pad_button_element_button_symbol_view
    index: 2
- tapOn: "Оплатить"
# - tapOn: "Скопировать код"
# - tapOn:
#     point: "80%,89%"
# - tapOn:
#     id: "com.google.android.inputmethod.latin:id/0_resource_name_obfuscated"
#     index: 5
# - runFlow:
#     when:
#       visible: "Прочитано"
#     commands:
#       - tapOn: "Прочитано"
# - tapOn:
#     point: "50%,89%"
# - extendedWaitUntil:
#     visible: "Проверка статуса оплаты"
#     timeout: 150000 
# - assertVisible: "Сервисный сбор"
# - takeScreenshot: orderId_yandexPay_bilet
# - extendedWaitUntil:
#     visible: "Код брони"
#     timeout: 150000
